#!/bin/bash

#Linux CYBERSTEM interactive manual, V.5

start() #Starts the function
{
        echo "Starting program..."
        
}

menu() #Starting of the menu
{
	clear
        printf "Which operation would you like to run...?\n" #printf is a better way of printing rather than echo, \n makes a new line blank etc.
        echo "[1] Start" #Shows the option of 1 or 2 to be processed
        echo "[2] Exit"
        read START_MENU #Reads the input of the keyboard and then the variable


        case $START_MENU in
        1)
                echo "Loading..."
                sleep 1 #Pauses for one second
                clear
                start #Moves on with the rest

                 ;;

        2)
                echo "Exiting program..."
                sleep 2
                clear
                exit #Closes the script, overall

                ;;

        *) #Asterisk to bring it back
                echo "Invaid input, redirecting..."
                sleep 2
                clear
                menu #Refers to the menu options
                ;;

        esac #Closing area
}

menu #Refers the menu outside of the function

echo "Creating Directories, etc..." #Creates CYBERSTEM directory and creates files inside of it
while [ true ]
	do
	sleep 1
	clear
	break
done

mkdir CYBERSTEM && touch CYBERSTEM/Navigation.txt && touch CYBERSTEM/Administration.txt && touch CYBERSTEM/Service.txt && touch CYBERSTEM/SecUpdates.txt && touch CYBERSTEM/GuestandRoot.txt && touch CYBERSTEM/PolicyAccount.txt && touch CYBERSTEM/ProcFile.txt && touch CYBERSTEM/UsrGroup.txt && touch CYBERSTEM/Accounts.txt && touch CYBERSTEM/VisudoandPasswd.txt && touch CYBERSTEM/SysLog.txt
#Creates the CYBERSTEM directory and creates text files in the directory
echo "Running " $(lsb_release -sd) "with kernel" $(uname -r)

while [ true ]
	do
	echo "Loading..."
	sleep 2
	clear
	break
done

echo "###########################################################################################################################################" > Navigation.txt
echo "Welcome to the first installment in this manual." >> Navigation.txt
echo "we hope it will assist you in learning bash and it's many functions" >> Navigation.txt
echo "Soon you'll find it's quite simpler than you'd think at first glance. Now, let's begin." >> Navigation.txt
echo "First off, we want to cover basic navigation, yeah? So if you'd want to go into directores for example you'd do this" >> Navigation.txt
echo "CD Example: <cd /home>" >> Navigation.txt
echo "What we've seen above is simply directing ourselves into the home directory. You can also use cd to direct yourselves into other directories" >> Navigation.txt
echo "Such as, <cd Dekstop>, <cd /bin>, <cd USER>. Basically, you can direct yourself into any directory using <cd>." >> Navigation.txt
echo "Let's say you'd want to read a text file in your /home directory, you could use cat" >> Navigation.txt
echo "Cat is a command that allows you to read text files in the terminal without editable priveledges, such as nano, gedit and vim." >> Navigation.txt
echo "Example of the cat command in usage: cat navigation.txt Now, all this would do is as said above... print out the contents." >> Navigation.txt
echo "How about wanting to copy, remove and move files,pictures etc. Well, all you need to use are these simple and short commands." >> Navigation.txt
echo "Example of copy in use: <cp test.txt>" >> Navigation.txt
echo "Example of remove in use: <rm test.txt> There is also a way of removing directores, <rm -r Documents>" >> Navigation.txt
echo "Example of move in use: move test.txt /home/Documents /home/Pictures" >> Navigation.txt
echo "How about you want to see what's inside the directory or folder your in? You could use <ls> or <PWD>" >> Navigation.txt
echo "Example of ls: If you want to use ls you could do, <ls>, or <ls -a>" >> Navigation.txt
echo "If you want to see what directory or whatever your in your could just use PWD as PWD, nothing more to that." >> Navigation.txt
echo "And that is virtualy all you need to know for basic Linux OS navigation in the terminal." >> Navigation.txt
echo "                                  End of Lesson 1" >> Navigation.txt
echo "###########################################################################################################################################" >> Navigation.txt

echo "###########################################################################################################################################" > Administration.txt
echo "Welcome to the second installment in this manual." >> Administration.txt
echo "In this section we will cover administrative powers" >> Administration.txt
echo "We will go over the multiple ways in how it is used etc." >> Administration.txt
echo "The command to be used as root but yet not root is called SUDO" >> Administration.txt
echo "To use SUDO, for example we'd do something such as this." >> Administration.txt
echo "Example: <sudo apt-get cowsay>" >> Administration.txt
echo "sudo apt-get cowsay is simply saying GET cowsay." >> Administration.txt
echo "Sudo is mainly just used to authorize certain commands." >> Administration.txt
echo "Sudo is something only Administrators should have access too." >> Administration.txt
echo "                                  End of Lesson 2" >> Navigation.txt
echo "###########################################################################################################################################" >> Administration.txt

echo "###########################################################################################################################################" > Service.txt
echo "Welcome to the third installment of this manual." >> Service.txt
echo "In this section we will be covering services of a Linux machine." >> Service.txt
echo "Services run in the background you of your computer per say." >> Service.txt
echo "Basically what starts on startup, whats running etc." >> Service.txt
echo "If you were to want to examine the services running on your Linux machine you'd do the following.." >> Service.txt
echo "<service --status-all>" >> Service.txt
echo "What this will do is bring up a list of all running services on the machine." >> Service.txt
echo "Now that you can see all the services running, you could start,restart, remove or stop one." >> Service.txt
echo "If you wanted to stop a service for example you'd do..." >> Service.txt
echo "<sudo service SERVICENAME stop>" >> Service.txt
echo "If you were to restart a service you'd do..." >> Service.txt
echo "<sudo service SERVICENAME restart>" >> Service.txt
echo "IF you were to start one you'd do..." >> Service.txt
echo "<sudo service SERVICENAME start>" >> Service.txt
echo "And if you wanted to remove one you'd do..." >> Service.txt
echo "<sudo service rm SERVICENAME>" >> Service.txt
echo "                                  End of Lesson 3" >> Navigation.txt
echo "###########################################################################################################################################" >> Service.txt

echo "###########################################################################################################################################" > SecUpdates.txt
echo "Welcome to the fourth installment of this manual." >> SecUpdates.txt
echo "In this section we will be going over updates essential for security." >> SecUpdates.txt
echo "There are multiple ways to update, upgrade or even do both commands at once." >> SecUpdates.txt
echo "If you were to begin updating you'd do the following command..." >> SecUpdates.txt
echo "<sudo apt-get install update>" >> SecUpdates.txt
echo "If you were to begin upgrading you'd do the following command..." >> SecUpdates.txt
echo "<sudo apt-get install upgrade>" >> SecUpdates.txt
echo "If you'd like to do both at once and get it done much faster." >> SecUpdates.txt
echo "<Sudo apt-get update && sudo apt-get dist-upgrade>" >> SecUpdates.txt
echo "In doing this command you'll update and upgrade your system, but why the "dist"?" >> SecUpdates.txt
echo "Dist-upgrade is a more sophisticated way of doing it and is much more effective." >> SecUpdates.txt
echo "If you'd like to easily automate security updates by GUI you'd do the following..." >> SecUpdates.txt
echo "You would search "Update Manager" and then go into the setting of it." >> SecUpdates.txt
echo "                                  End of Lesson 3" >> SecUpdates.txt
echo "###########################################################################################################################################" >> SecUpdates.txt

echo "###########################################################################################################################################" > GuestandRoot.txt
echo "Welcome to the fifth installment of this manual." >> GuestandRoot.txt
echo "In this section we will be covering the guest account security as well as root login security." >> GuestandRoot.txt
echo "First off, we'll go over the guest accounts and how remove this vulnarability as well as a couple more..." >> GuestandRoot.txt
echo "If were speaking about Ubuntu 12. we'd use this command" >> GuestandRoot.txt
echo "<sudo gedit /etc/lightdm/lightdm.conf> This will bring you to the editable text file to work in." >> GuestandRoot.txt
echo "You'll want to add the following lines" >> GuestandRoot.txt
echo "<allow-guest=false>" >> GuestandRoot.txt
echo "<greeter-hide-users=true>" >> GuestandRoot.txt
echo "Now if were working on a more modern version you'd follow a different process however still similar." >> GuestandRoot.txt
echo "<cd /usr/share/lightdm/lightdm.conf.d/>" >> GuestandRoot.txt
echo "<sudo gedit 50-ubuntu.conf>" >> GuestandRoot.txt
echo "You'd fill the text file with the following" >> GuestandRoot.txt
echo "<allow-guest=false>" >> GuestandRoot.txt
echo "<greeter-hide-users=true>" >> GuestandRoot.txt
echo "Basically very simple however different ways to access it!" >> GuestandRoot.txt
echo "###########################################################################################################################################" >> GuestandRoot.txt
echo "Now, lets talk about insecure root logins." >> GuestandRoot.txt
echo "Do you really want your root login permitted to yes? Especially when that is a vulnarability?" >> GuestandRoot.txt
echo "Of course not, so that's why we have to fix this." >> GuestandRoot.txt
echo "If we want to access the text file containing the permissions reguarding the root login we'd do the following..." >> GuestandRoot.txt
echo "<sudo gedit /etc/ssh/sshd_config>" >> GuestandRoot.txt
echo "Okay, great so now that were inside we should change every YES permitting a root login to a NO." >> GuestandRoot.txt
echo "This will make it so no one can access our root user." >> GuestandRoot.txt
echo "                                  End of Lesson 5" >> GuestandRoot.txt
echo "###########################################################################################################################################" >> GuestandRoot.txt

echo "###########################################################################################################################################" > PolicyAccount.txt
echo "Welcome to the sixth installment of this manual." >> PolicyAccount.txt
echo "In this section we will talk a little bit about Password Policies and Account Lockout." >> PolicyAccount.txt
echo "If we were going to edit the file containg our secure lockouts we'd do this." >> PolicyAccount.txt
echo "<sudo gedit /etc/login.defs>" >> PolicyAccount.txt
echo "Look through the file for a bit, and you'll see Max Days, Min Days, and Age." >> PolicyAccount.txt
echo "You'll want to change Max Days to 150, Min Days to 10, And then Age to 7." >> PolicyAccount.txt
echo "Then close out of that and now we'll go into the Account Policy." >> PolicyAccount.txt
echo "To access the text file where we'll add our own line we'd do the following..." >> PolicyAccount.txt
echo "<sudo gedit /etc/pam.d/common-password>" >> PolicyAccount.txt
echo "Now that were in we'll add the following line to the end of the file." >> PolicyAccount.txt
echo "<auth required pam_tally2.so deny =5 onerr=failunlock_time=1800>" >> PolicyAccount.txt
echo "Now what this is saying is doing is setting the number of allowed failed login attempts, and lockout duration." >> PolicyAccount.txt
echo "                                  End of Lesson 6" >> PolicyAccount.txt
echo "###########################################################################################################################################" >> PolicyAccount.txt

echo "###########################################################################################################################################" > ProcFile.txt
echo "Welcome to the seventh installment in this manual." >> ProcFile.txt
echo "In this section we will be covering processes and searching for media files." >> ProcFile.txt
echo "To see how the layout of processes look etc you'd do this command." >> ProcFile.txt
echo "<ps -a>" >> ProcFile.txt
echo "If you wanted to see every single process running you'd do this." >> ProcFile.txt
echo "<ps -A>" >> ProcFile.txt
echo "Now what you can do when finding a process is.. you can kill it." >> ProcFile.txt
echo "This can be especially useful when there is a process running in the background that shouldn't be per say." >> ProcFile.txt
echo "<kill PID_of_target_process>" >> ProcFile.txt
echo "If the program is misbehaving and does not exit when given the TERM signal, we can escalate the signal by passing the KILL signal:" >> ProcFile.txt
echo "<kill -KILL PID_of_target_process>" >> ProcFile.txt
echo "And that is all you need to know about processes essentially." >> ProcFile.txt
echo "###########################################################################################################################################" >> ProcFile.txt
echo "Now, on to finding and removing prohibited media files..." >> ProcFile.txt
echo "If you wanted to search for a media file you'd do this command..." >> ProcFile.txt
echo "<find / -name *.mp3" >> ProcFile.txt
echo "Multiple media files that should be removed are the following." >> ProcFile.txt
echo ".mp3, .mp4, .exe, jpg, jpeg, .wav, .avi, .png" >> ProcFile.txt
echo "I suggest making a script with the following and executing them simultaneously and then removing them." >> ProcFile.txt
echo "                                  End of Lesson 7" >> ProcFile.txt

echo "###########################################################################################################################################" > UsrGroup.txt
echo "Welcome to the eigth installment of this manual." >> UsrGroup.txt
echo "In this section of the manual, we'll be covering users and groups and how to manage them." >> UsrGroup.txt
echo "If you were going to view the users file you'd do this." >> UsrGroup.txt
echo "<gedit /etc/passwd>" >> UsrGroup.txt
echo "Look for any unauthorized users and make sure that root has 0 users as well." >> UsrGroup.txt
echo "[root:x:0:0:root:/root:/bin/bash] This right here is an example of a clean root user" >> UsrGroup.txt
echo "If you see an unauthorized user in there, do not remove it but comment it out." >> UsrGroup.txt
echo "I cannot stress how important it is to do so, if you were to remove the user." >> UsrGroup.txt
echo "Then you lose not only the user but all of it's data, for all you know that could be essential for something else in time." >> UsrGroup.txt
echo "###########################################################################################################################################" >> UsrGroup.txt
echo "Moving on, we'll now talk about groups." >> UsrGroup.txt
echo "NOW!, If you were going to view the group file then you'd execute this command..." >> UsrGroup.txt
echo "<gedit /etc/group>" >> UsrGroup.txt
echo "Make sure to check this file to look for groups that shouldn't be there, to see if a user is in said group etc." >> UsrGroup.txt
echo "Always a good thing to check, also make sure root looks like this [root:x:0:]" >> UsrGroup.txt
echo "And that is the minimum that you'll need to know about user and group files." >> UsrGroup.txt
echo "                                  End of Lesson 8" >> UsrGroup.txt
echo "###########################################################################################################################################" >> UsrGroup.txt

echo "###########################################################################################################################################" > Accounts.txt
echo "Welcome to the ninth installment of this manual." >> Accounts.txt
echo "Here in this section we'll cover user accounts." >> Accounts.txt
echo "Though we've covered a little about finding hidden useres, this will just be focused on the GUI area." >> Accounts.txt
echo "If you want to see the un-hidden users you'd look for the UserAccounts GUI." >> Accounts.txt
echo "First off, check to see if everyone is ranked what they should be etc." >> Accounts.txt
echo "That's basically as simple as it gets so this is just almost as a note." >> Accounts.txt
echo "                                  End of Lesson 9" >> Accounts.txt
echo "###########################################################################################################################################" >> Accounts.txt

echo "###########################################################################################################################################" > VisudoandPasswd.txt
echo "Welcome to the tenth installment in this manual." >> VisudoandPasswd.txt
echo "In this section we will be covering the sudoers file and insecure root login." >> VisudoandPasswd.txt
echo "Now, the sudoer file is where root privelegdes are contained." >> VisudoandPasswd.txt
echo "To access this file and to edit the file you would execute this command..." >> VisudoandPasswd.txt
echo "<sudo visudo>" >> VisudoandPasswd.txt
echo "Make sure everything checks out as should and then back out(USE COMMON SENSE)" >> VisudoandPasswd.txt
echo "Now usually the root login could be insecure, we definitely have to fix that." >> VisudoandPasswd.txt
echo "The command to execute that is this," >> VisudoandPasswd.txt
echo "<sudo passwd>" >> VisudoandPasswd.txt
echo "It'll prompt you for a password, just enter the new one and then you have your new secure root password." >> VisudoandPasswd.txt
echo "                                  End of Lesson 10" >> VisudoPasswd.txt
echo "###########################################################################################################################################" >> VisudoandPasswd.txt

echo "###########################################################################################################################################" > SysLog.txt
echo "This is just on how to install and run system logs" >> SysLog.txt
echo "You'd execute the following commands." >> SysLog.txt
echo "<Sudo apt-get install gnome>" >> SysLog.txt
echo "<gnome-system-logs>" >> SysLog.txt
echo "This will install and then let you view them well." >> SysLog.txt
echo "Good luck, hope you've learned something from all of this!" >> SysLog.txt
echo "                                  End of Lesson 11" >> SysLog.txt
echo "###########################################################################################################################################" >> SysLog.txt

printf "##########################################################\n" #Introduction
  echo "Welcome to the Linux training course!"
  echo "This manual will go straight from start to finish. "
  echo "This course will teach you the bare essentials of BASH!"
printf "During this tutorial you press -ENTER- to continue.\n"
printf "During selection menu's answer with a number.\n"
  echo "##########################################################"
read WAIT_FOR_USER  #Reads the input of the keyboard

while [ true ]
	do
	clear
	break
done

begin()
{
	echo "Loading Lesson Selection..."
}

menu2()
{

	printf "######Lesson Selection Menu################################\n"
	printf "~If editable, DO NOT EDIT ANY TEXT FILES!~\n"
	printf "[1] Basic Linux Navigation\n"
	printf "[2] Administrative Capabilities\n"
	printf "[3] Service Management\n"
	printf "[4] Security Updates\n"
	printf "[5] Guest Accounts and Root Login\n"
	printf "[6] Account Policy and Secure Lockout\n"
	printf "[7] Processes and Finding Files\n"
	printf "[8] Hidden Users and Groups\n"
	printf "[9] User Accounts\n"
	printf "[10] Sudoers file and Insecure Root Password\n"
	printf "[11] System Log Checking\n"
	printf "[12] Exit Program\n"
	echo "############################################################"
	read begin_menu2


	case $begin_menu2 in
	1)
		echo "Loading Lesson..."   #What this does is pause for a second, view the file, clear the stuff there, then
		sleep 1                    #Bring you back to the menu again but clean
		gedit Navigation.txt
		clear
		menu2
		
		;;
		
	2)
		echo "Loading Lesson..."
		sleep 1
		gedit Administration.txt
		clear
		menu2
		
		;;
		
	3)
		echo "Loading Lesson..."
		sleep 1
		gedit Service.txt
		clear
		menu2
	
		;;
		
	4)
		echo "Loading Lesson..."
		sleep 1
		gedit SecUpdates.txt
		clear
		menu2
		
		;;
		
	5)
		echo "Loading Lesson..."
		sleep 1
		gedit GuestandRoot.txt
		clear
		menu2
		
		;;
		
	6)
		echo "Loading Lesson..."
		sleep 1
		gedit PolicyAccount.txt
		clear
		menu2
		
		;;
	
	7)
		echo "Loading Lesson..."
		sleep 1
		gedit ProcFile.txt
		clear
		menu2
		
		;;
		
	8)
		echo "Loading Lesson..."
		sleep 1
		gedit UsrGroup.txt
		clear
		menu2
		
		;;
		
	9)
		echo "Loading Lesson..."
		sleep 1
		gedit Accounts.txt
		clear
		menu2
		
		;;
		
	10)
		echo "Loading Lesson..."
		sleep 1
		gedit VisudoandPasswd.txt
		clear
		menu2
		
		;;
		
	11)
		echo "Loading Lesson..."
		sleep 1
		gedit SysLog.txt
		clear
		menu2
		
		;;
		
	12)
		echo "Shutting down..."
		sleep 1
		clear
		exit
		
		;;
		
	*)
		echo "Invalid Input, Redirecting..."
		sleep 1
		clear
		menu2
		;;
	
	esac
}

menu2
